To build:
Install maven 2.2.1
Type mvn package in the FastTransfer folder. This will create a directory named target in each of the subfolders, which contains the built jars. 

Setting up a demo: 

1) Get 4 VMs. We will call these node1, node2, node3, and node4. 

2) Get a liberty network deployment runtime. We will call this wlp_nd

3) Transfer wlp_nd, com.zheng.torrentbundle jar, com.zheng.torrentfeature.mf (found under com.zheng.torrentbundle project), and TorrentClient.jar to node1. 

4) Unzip wlp_nd if necessary. We will call the parent folder wlp_nd. It should have folder wlp inside. 

5) Create a server to act as the collective controller. We will call this myController. Setup keystore, quickstart security, etc. Instructions are found here: https://www-01.ibm.com/support/knowledgecenter/was_beta_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/tagt_wlp_configure_collective.html?cp=was_beta_liberty%2F1-2-1-0

6) Create directories so this path exists: wlp_nd/wlp/usr/extension/lib/features

7) Move com.zheng.torrentbundle.jar to lib folder, and move com.zheng.torrentbundle.mf to features folder. 

8) Edit the server.xml for myController (wlp_nd/wlp/usr/servers/myController/server.xml) to include  <feature>usr:com.zheng.torrentfeature</feature> under <featureManager>. 

9) Edit same server.xml to include <hostAccess enableCustomActions="true" useSftp="false"/>. 

10) Edit same server.xml to include a remoteFileAccess writeDir. These are paths that you want the server to be able to write to. For example, 
<remoteFileAccess>
    <writeDir>/home/user</writeDir>
</remoteFileAccess>
We will be assuming this is the writeDir used. 
More information can be found at https://developer.ibm.com/wasdev/docs/using-file-service-and-file-transfer-mbeans-with-liberty/

11) Create directories torrent and torrent-config in /home/user. These folders can be named anything following the pattern x and x-config (e.g files and files-config). 

12) Move TorrentClient.jar to torrent-config. 

13) Copy wlp_nd/wlp/usr/servers/myController/resources/security/trust.jks to torrent-config

14) Start myController (i.e wlp_nd/wlp/bin/server start myController). More details found here: https://www-01.ibm.com/support/knowledgecenter/was_beta_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_command_server.html

15) Register the 3 other nodes as hosts with writeDir set to where you want your files to go. Instructions found here: https://www-01.ibm.com/support/knowledgecenter/was_beta_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/tagt_wlp_registerhost.html?cp=was_beta_liberty%2F1-2-1-1

16) Copy the trust.jks to your computer. (You will need it to make remote calls to the server)

17) Make sure that /etc/hosts doesn't map the localhost address to the hostname (or if it does, make sure that it also maps the actual ip to the hostname). We need to broadcast an actual ip. 

18) Run TorrentUserClient.jar with no arguments to get instructions on how to run it properly. 